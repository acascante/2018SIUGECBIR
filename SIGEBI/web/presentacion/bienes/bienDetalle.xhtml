
<ice:form id="frmDetalleBien" 
          xmlns:ice="http://www.icesoft.com/icefaces/component"

          xmlns:icecore="http://www.icefaces.org/icefaces/core" 

          xmlns:h="http://java.sun.com/jsf/html"
          xmlns:f="http://java.sun.com/jsf/core"
          xmlns:ui="http://java.sun.com/jsf/facelets"
          >

    <div class="contenido-pagina">


        <div class="container">
            <div class="row">
                <div class='col-sm-6'>
                    <h1 style="margin: 0;">
                        <ice:outputFormat 
                                value="#{label['sigebi.Bien.Label.HeaderBienes']}"
                                />
                    </h1>
                </div>

                <div class="col-sm-6">

                    <ice:commandButton id="boton_regresar" 
                                       value="#{label['sigebi.Bien.Btn.Regresar']}"  
                                       style="float:right" 
                                       partialSubmit="true"
                                       styleClass="boton" 
                                       action="#{controllerBienes.regresarListado}"/>

                </div>
            </div>
        </div>








        <div class="container">
            
            
            <div class="row">
                <div class="col-md-12">
                    
                    
                    <!-- ROW IDENTIFICACION -->
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group"> 
                                <ice:outputText 
                                        value="#{label['sigebi.Bien.Label.Identificacion']}"
                                        />
                                <ice:inputText id="txtBienId" 
                                               styleClass="form-control" 
                                               value="#{controllerBienes.tipoSeleccionado}"
                                               readonly="true"
                                               partialSubmit="false">
                                </ice:inputText>


                            </div>                                             
                        </div>
                        <div class="col-md-8">
                            <div class="form-group"> 
                                <ice:outputText 
                                        value="#{label['sigebi.Bien.Label.Descripcion']}"
                                        />
                                <ice:inputText id="txtBiendescripcion" 
                                               styleClass="form-control" 
                                               value="#{controllerBienes.bien.descripcion}" 
                                               required="true" 
                                               partialSubmit="false">
                                </ice:inputText>
                            </div>                                             
                        </div>
                    </div>
                    
                    <!-- ROW TIPO -->
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group"> 
                                <ice:outputText 
                                        value="#{label['sigebi.Bien.Label.Tipo']}"
                                        />

                                <ice:selectOneMenu id="selTipoBien"
                                                   styleClass="form-control"
                                                   value="#{controllerBienes.tipoSeleccionado}" 
                                                   >
                                    <f:selectItem itemLabel="#{label['sigebi.Bien.Select.Tipo']}" itemValue="-1"/>

                                    <f:selectItems id="optSelTipoBien" value="#{controllerBienes.tiposBienOptions}"/>

                                </ice:selectOneMenu>



                            </div>                                             
                        </div>
                        <div class="col-md-8">
                            <div class="form-group"> 
                                <ice:outputText 
                                        value="#{label['sigebi.Bien.Label.Origen']}"
                                        />  
                                <ice:selectOneMenu id="selOrigen"
                                                   styleClass="form-control"
                                                   value="#{controllerBienes.origenSeleccionado}" 
                                                   partialSubmit="false"
                                                   >
                                    <f:selectItem itemLabel="Seleccione un valor" itemValue="-1"/>

                                    <f:selectItems id="optSelOrigen" value="#{controllerBienes.origenOptions}"/>

                                </ice:selectOneMenu>

                            </div>                                             
                        </div>
                    </div>
                    
                    <!-- ROW CAPITALIZABLE -->
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group"> 
                                <ice:outputText 
                                        value="#{label['sigebi.Bien.Label.Capitalizable']}"
                                        />  
                                <ice:inputText id="txtCapitalizable" 
                                               styleClass="form-control" 
                                               value="#{controllerBienes.capitalizable}" 
                                               readonly="true"
                                               partialSubmit="false">
                                </ice:inputText>
                            </div>                                             
                        </div>
                        <div class="col-md-4">

                            <div class="form-group">
                                <ice:outputText 
                                        value="#{label['sigebi.Bien.Label.Estado']}"
                                        />  
                                <ice:selectOneMenu id="selEstado"
                                                   styleClass="form-control"
                                                   value="#{controllerBienes.selectEstado}" 
                                                   readonly="true"
                                                   partialSubmit="false"
                                                   >
                                    <f:selectItems id="optSelEstados" value="#{controllerBienes.estadosOptions}"/>
                                </ice:selectOneMenu>
                            </div>                                        
                        </div>
                        <div class="col-md-2">
                            <div class="form-group"> 
                                <ice:outputText 
                                        value="#{label['sigebi.Bien.Label.Lote']}"
                                        />  
                                <ice:selectOneMenu id="selLotes"
                                                   value="#{controllerBienes.valorLote}" 
                                                   styleClass="form-control"
                                                   valueChangeListener="#{controllerBienes.loteSelectCambio}"
                                                   partialSubmit="true" 
                                                   >
                                    <f:selectItem itemLabel="Ninguno" itemValue="-1"/>

                                    <f:selectItems id="optSelLotes" value="#{controllerBienes.loteOptions}"/>

                                </ice:selectOneMenu>
                            </div>                                             
                        </div>
                        <div class="col-md-2">
                            <div class="form-group"> 
                                <ice:outputText 
                                        value="#{label['sigebi.Bien.Label.Categoria']}"
                                        /> 
                                <ice:inputText id="txtBiencantidad" 
                                               styleClass="form-control" 
                                               value="#{controllerBienes.bien.cantidad}" 
                                               required="true" 
                                               readonly="#{!controllerBienes.esLote}"
                                               partialSubmit="false">
                                </ice:inputText>

                            </div>                                             
                        </div>
                    </div>
                    
                    <!-- ROW CATEGORIA -->
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group"> 
                                <ice:outputText 
                                        value="#{label['sigebi.Bien.Label.Categoria']}"
                                        /> 
                                <ice:selectOneMenu id="selCategoria"
                                                   styleClass="form-control"
                                                   value="#{controllerBienes.selectCategoria}" 
                                                   valueChangeListener="#{controllerBienes.cambioSelectCategoria}"
                                                   partialSubmit="true"
                                                   >
                                    <f:selectItem itemLabel="Seleccionar Categoria" itemValue="-1"/>

                                    <f:selectItems id="optSelCategoria" value="#{controllerBienes.categoriasOptions}"/>

                                </ice:selectOneMenu>



                            </div>                                             
                        </div>
                        <div class="col-md-6">
                            <div class="form-group"> 
                                <ice:outputText 
                                        value="#{label['sigebi.Bien.Label.SubCategoria']}"
                                        /> 
                                <ice:selectOneMenu id="selSubCategoria"
                                                   styleClass="form-control"
                                                   value="#{controllerBienes.selectSubCateg}" 
                                                   valueChangeListener="#{controllerBienes.cambioSelectSubCategoria}"
                                                   partialSubmit="true"
                                                   >
                                    <f:selectItem itemLabel="Seleccionar Sub Categoría" itemValue="-1"/>

                                    <f:selectItems id="optSelSubCateg" value="#{controllerBienes.subCategoriaOptions}"/>

                                </ice:selectOneMenu>

                            </div>                                             
                        </div>
                    </div>
                    
                    <!-- ROW CLASIFICACION -->
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group"> 
                                <ice:outputText 
                                        value="#{label['sigebi.Bien.Label.Clasificacion']}"
                                        /> 
                                <ice:selectOneMenu id="selClasificacion"
                                                   styleClass="form-control"
                                                   value="#{controllerBienes.selectClasificacion}" 
                                                   valueChangeListener="#{controllerBienes.cambioSelectClasificacion}"
                                                   partialSubmit="true"
                                                   >
                                    <f:selectItem itemLabel="Seleccionar Clasificación" itemValue="-1"/>

                                    <f:selectItems id="optSelClasificacion" value="#{controllerBienes.clasificacionOptions}"/>

                                </ice:selectOneMenu>



                            </div>                                             
                        </div>
                        <div class="col-md-6">
                            <div class="form-group"> 
                                <ice:outputText 
                                        value="#{label['sigebi.Bien.Label.SubClasificacion']}"
                                        /> 
                                <ice:selectOneMenu id="selSubClasificacion"
                                                   styleClass="form-control"
                                                   value="#{controllerBienes.selectSubClasif}" 
                                                   partialSubmit="false"
                                                   >
                                    <f:selectItem itemLabel="#{label['sigebi.Bien.Select.SubClasificacion']}" itemValue="-1"/>

                                    <f:selectItems id="optSelSubclasificacion" value="#{controllerBienes.subClasifOptions}"/>

                                </ice:selectOneMenu>


                            </div>                                             
                        </div>
                    </div>

                    <!-- ROW UBICACION -->
                    <div class="row">
                        <div class="col-sm-8"> 
                            <div class="form-group">
                                <ice:outputText 
                                        value="#{label['sigebi.Bien.Label.Ubicacion']}"
                                        /> 
                                <ice:inputHidden id="hdnIdUbicacion"
                                                 value="#{controllerBienes.ubicacionId}"
                                                 rendered="true"
                                                 >
                                </ice:inputHidden>
                                <ice:inputText id="txtUbicacionDescr" 
                                               styleClass="form-control" 
                                               value="#{controllerBienes.ubicacionNombre}" 
                                               required="true" 
                                               readonly="true"
                                               partialSubmit="true">
                                </ice:inputText>
                            </div>
                        </div>
                        <div class="col-sm-2">

                            <ice:commandButton id="btnBuscarUbicacion" 
                                               value="#{label['sigebi.Bien.Btn.Buscar']}"  
                                               partialSubmit="true"
                                               styleClass="boton" 
                                               style="margin-top:  1.5rem"
                                               action="#{controllerBienes.ubicacionMostrar}"/>

                        </div>
                        <div class="col-sm-2">

                            <ice:commandButton id="btnUbicacionLimpiar" 
                                               value="#{label['sigebi.Bien.Btn.Limpiar']}"  
                                               partialSubmit="true"
                                               styleClass="boton" 
                                               style="margin-top: 1.5rem"
                                               action="#{controllerBienes.ubicacionLimpiar}"/>

                        </div>
                    </div>
                    
                    <!-- ROW PROVEEDOR -->
                    <div class="row">
                        <div class="col-sm-8"> 
                            <div class="form-group">
                                <ice:outputText 
                                        value="#{label['sigebi.Bien.Label.Proveedor']}"
                                        /> 
                                <ice:inputHidden id="hdnIdProveedor"
                                                 value="#{controllerBienes.provId}"
                                                 rendered="true"
                                                 >
                                </ice:inputHidden>
                                <ice:inputText id="txtProvedor" 
                                               styleClass="form-control" 
                                               value="#{controllerBienes.provSelccionado}" 
                                               required="true" 
                                               readonly="true"
                                               partialSubmit="true">
                                </ice:inputText>
                            </div>
                        </div>
                        <div class="col-sm-2">

                            <ice:commandButton id="botonProveedores" 
                                               value="#{label['sigebi.Bien.Btn.Buscar']}"  
                                               partialSubmit="true"
                                               styleClass="boton" 
                                               style="margin-top: 1.5rem"
                                               action="#{controllerBienes.mostrarProveedores}"/>

                        </div>
                        <div class="col-sm-2">

                            <ice:commandButton id="botonProveedoresLimpiar" 
                                               value="#{label['sigebi.Bien.Btn.Limpiar']}"  
                                               partialSubmit="true"
                                               styleClass="boton" 
                                               style="margin-top: 1.5rem"
                                               action="#{controllerBienes.proveedoresLimpiar}"/>

                        </div>
                    </div>
                    
                    <!-- ROW FECHA ADQUISICION -->
                    <div class="row">
                        <div class="col-md-5">
                            <div class="form-group"> 
                                    <ice:outputText 
                                        value="#{label['sigebi.Bien.Label.FecAdqui']}"
                                        />

                                <ice:selectInputDate id="txtFecAdquisic" 
                                                     partialSubmit="false"
                                                     styleClass="form-control" 
                                                     renderAsPopup="true" 
                                                     renderMonthAsDropdown="true"
                                                     title="Fecha Adquisición"
                                                     value="#{controllerBienes.fecAdiquisicion}">
                                    <f:convertDateTime pattern="dd/MM/yyyy" timeZone="GMT-6:00" />
                                </ice:selectInputDate>

                            </div>                                             
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                    <ice:outputText 
                                        value="#{label['sigebi.Bien.Label.Moneda']}"/>
                                <ice:selectOneMenu id="selMoneda"
                                                   styleClass="form-control"
                                                   value="#{controllerBienes.selectMoneda}" 
                                                   valueChangeListener="#{controllerBienes.cambioSelectTipo}"
                                                   partialSubmit="false"
                                                   >
                                    <f:selectItem itemLabel="#{label['sigebi.Bien.Select.Moneda']}" itemValue="-1"/>
                                    <f:selectItems id="optSelMoneda" value="#{controllerBienes.monedasOptions}"/>
                                </ice:selectOneMenu>
                            </div>                                       
                        </div>
                        <div class="col-md-4">
                            <div class="form-group"> 
                                    <ice:outputText 
                                        value="#{label['sigebi.Bien.Label.Monto']}"/>

                                <ice:inputText id="txtMonto" 
                                               styleClass="form-control" 
                                               value="#{controllerBienes.bien.costo}" 
                                               required="true" 
                                               partialSubmit="false">
                                </ice:inputText>
                            </div>                                             
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-md-4">    

                            <ice:commandButton id="botonGuardar" 
                                               value="#{label['sigebi.Bien.Btn.Guardar']}"  
                                               partialSubmit="true"
                                               styleClass="boton" 
                                               action="#{controllerBienes.guardarDatos}"/>

                            <ice:commandButton id="botonSincronizar"
                                       style="float:right" 
                                       styleClass="boton" 
                                       rendered="#{controllerBienes.bien.estado.id == controllerBienes.estadoPendiente}"
                                       partialSubmit="true" 
                                       action="#{controllerBienes.solicitarSincronizacion}"
                                       value="#{label['sigebi.Bien.Btn.Sincronizacion']}"  >
                            </ice:commandButton>

                            <ice:commandButton id="botonRechazar"
                                               style="float:right" 
                                               styleClass="boton" 
                                               rendered="#{controllerBienes.bien.estado.id == controllerBienes.estadoPendienteSincronizar}"
                                               partialSubmit="true" 
                                               actionListener="#{controllerBienes.mostrarPanelObserva}"
                                               value="#{label['sigebi.Bien.Btn.Rechazar']}"  >
                            </ice:commandButton>

                        </div>
                    </div>

                </div>
            </div>




        </div>




        <script type="text/javascript">
            var $ = jQuery.noConflict();

            $(document).ready(function () {
                //$(".selectLotes-dis").removeClass("iceSelOneMnu-dis");
                //$(".selectLotes-dis").addClass("form-control");
                //alert( "ready!" );
            });


        </script>



   <!-- Agrega el model para los complementos del BIEN -->
    <ui:insert name="modalBuscarBienes">
        <ui:include src="../bienes/bienComplementos.xhtml" />
    </ui:insert>



    </div>



</ice:form>
